<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robe Copenhagen - Få inspiration og læs om modens trends</title>
    <!-- Meta beskrivelse  -->
    <meta name="description" content="This is an example of a meta description. This will often show up in search results.">
    <!-- CSS  -->
    <link rel="stylesheet" href="style-2.css" type="text/css">
        <!-- Font  -->
    <link href="https://fonts.googleapis.com/css?family=Assistant" rel="stylesheet">
        <!-- Icon  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>
      <header>

        <div class="header-container">
            <div class="logo-container">
                <a href="forside.html">
     <img class="logo" src="logo-sort.png" alt="Robe Logo">
     </a></div>
     <div class="icon-container">
    <a href="javascript:void(0);" class="icon" onclick="navFunktion()">
      <i class="fa fa-bars"></i></a>
       </div>
        </div>

           <ul class="nav" id="topnav">

            <br>
            <li><a href="forside.html" class="active">Forside</a></li>
            <li><a href="shop-modal.html">Shop</a></li>
            <li><a href="/Forhandlere/">Forhandlere</a></li>
            <li><a href="/om/">Om Robe</a></li>
            <li><a href="/kontakt/">Kontakt</a></li>
        </ul>
    </header>
    <section id="modal">

        <button class="luk">Luk</button>
        <div id="modal-content">

            <div class="modal-billeder">

                <img class="modal-billede1" src="" alt="">
                <img class="modal-billede2" src="" alt="">
                <img class="modal-billede3" src="" alt="">
            </div>

            <div class="modal-grid2">
                <h1 class="modal-navn"></h1>
                <h2 class="modal-pris"></h2>

                <select class="farver">
                <option value="#">Vælg farve</option>
                <option value="sort">Sort</option>
                <option value="hvid">Hvid</option>
                <option value="blue">Blå</option>
                <option value="grey">Grå</option>
                <option value="green">Grøn</option>
                </select>

                <select class="siezes">
                <option value="#">Vælg størrelse</option>
                <option value="xs">XS</option>
                <option value="s">S</option>
                <option value="m">M</option>
                <option value="l">L</option>
                <option value="xl">XL</option>
                </select>

                <button class="modal-kob"><p>Køb</p></button>
                <button class="modal-read"><p>Læs mere</p></button>
            </div>
        </div>
    </section>


    <main class="forside-container">
        <article class="forside-pic-view">
            <img class="forside-pic" src="" alt="">
        </article>

        <br>
        <br>
        <br>

        <div class="forslag-txt">
            <h2>Mangler du nyt til garderoben?</h2>
            <div class="linje2"></div>
            <p>Her er vores forslag til dig</p>
        </div>
        <div class="forslag">
            <template id="clothes-template">
      <article class="clothes-article1">
       <h1 class="data-navn"></h1>
       <p class="data-liner"></p>
       <p class="data-pris"></p>
        <img class="data-billede1" src="" alt="">
        <img class="data-billede2" src="" alt="">
        <img class="data-billede3" src="" alt="">

        <button class="kob"><p>Køb</p></button>
        <button class="quickview"><p>Quickview</p></button>

       </article>
    </template>

        </div>

        <br>
        <br>
        <br>

        <div class="forslag-txt">
            <h2>Hvad er Robe?</h2>
            <div class="linje2"></div>
            <p>Kom med ind i Robes showroom på Frederiksberg og hør Robes medstifter og designer, Rikke Jersø, tale om Robes mission og værdier. Denne video giver dig et indblik i, hvordan Danmarks nye slowfashion brand blev til.</p>
        </div>

        <div class="youVideo">
<iframe width="560" height="315" src="https://www.youtube.com/embed/k0KxsZ1jaW4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

        <br>
        <br>
        <br>
        <br>
        <br>
        <br>

        <div class="blog-contatiner"></div>
        <template class="blog">
            <h3 class="data-blog"></h3>
            <div class="linje"></div>
            <p class="data-teaser"></p>
            <a href="kronik-singleview.html" class="read-kronik"><p>Læs hele kronikken</p></a>
            <img class="blog-billede" src="" alt="">
        </template>
    </main>


    <!--Script-->
    <script>

        // Responsiv nav
        function navFunktion() {
            var x = document.getElementById("topnav");
            if (x.className === "nav") {
                x.className += " responsive";
            } else {
                x.className = "nav";
            }
        }

        // Forside billeder
        document.addEventListener("DOMContentLoaded", getJSON1);
        let forsidePic;
        let forsidePicContainer = document.querySelector(".forside-container");
        async function getJSON1() {
            let jsonData1 = await fetch("http://digcon.dk/kea/2SEM/robe-cph/wp-json/wp/v2/forside_shoppen/54");
            forsidePic = await jsonData1.json();
            console.log(forsidePic);
            visPage();
        }

        function visPage() {
            console.log(forsidePic);
            document.querySelector(".forside-pic").src = forsidePic.acf.billede_1;
        }

        // Forslag clothes
        document.addEventListener("DOMContentLoaded", getJSON2);
        let clothesTemplate = document.querySelector("#clothes-template");
        let clothesContainer = document.querySelector(".forslag");

        // Hent clothes json
        async function getJSON2() {
            let jsonData2 = await fetch("http://digcon.dk/kea/2SEM/robe-cph/wp-json/wp/v2/clothing" + "?per_page=3");
            clothes = await jsonData2.json();
            console.log(clothes);
            visClothing();
        }

        // Viser og kloner
        function visClothing() {
            clothes.forEach(clothing => {
                let klon = clothesTemplate.cloneNode(true).content;

                klon.querySelector(".data-navn").textContent = clothing.title.rendered;
                klon.querySelector(".data-liner").textContent = clothing.acf.liner;
                klon.querySelector(".data-pris").textContent = clothing.acf.pris + " kr.";
                klon.querySelector("img").src = clothing.acf.hovedbillede;
                klon.querySelector(".data-billede2").src = clothing.acf.billede_2;

                klon.querySelector(".data-billede2").addEventListener("click", () => {
                    window.location.href = "shop-single-1.html?id=" + clothing.id;
                });

                klon.querySelector(".kob").addEventListener("click", () => {
                    window.location.href = "shop-single-1.html?id=" + clothing.id;
                });


                klon.querySelector(".quickview").addEventListener("click", () => {
                    visModal(clothing);
                });

                clothesContainer.appendChild(klon);

            });
        }

        // SCRIPT MODAL
        function visModal(item) {
            let modal = document.querySelector("#modal");
            modal.classList.add("vis");

            modal.querySelector(".modal-navn").textContent = item.title.rendered;
            modal.querySelector(".modal-pris").textContent = item.acf.pris;

            modal.querySelector(".modal-billede1").src = item.acf.hovedbillede;
            modal.querySelector(".modal-billede2").src = item.acf.billede_2;
            modal.querySelector(".modal-billede3").src = item.acf.billede_3;

            modal.querySelector(".luk").addEventListener("click", skjulModal);
        }

        function skjulModal() {
            modal.classList.remove("vis");
        }


        // Kronik
        document.addEventListener("DOMContentLoaded", getJSON3);
        let blogTemplate = document.querySelector(".blog");
        let blogContainer = document.querySelector(".blog-contatiner");

        async function getJSON3() {
            let jsonData3 = await fetch("http://digcon.dk/kea/2SEM/robe-cph/wp-json/wp/v2/blog_posts" + "?per_page=1");
            kronik = await jsonData3.json();
            console.log(kronik);
            visKronik();
        }

        function visKronik() {
            kronik.forEach(kronikken => {
                let klon2 = blogTemplate.cloneNode(true).content;

                klon2.querySelector(".data-blog").textContent = kronikken.title.rendered;
                klon2.querySelector(".data-teaser").textContent = kronikken.acf.teaser;
                klon2.querySelector(".blog-billede").src = kronikken.acf.billede;

                blogContainer.appendChild(klon2);


            });
        }
    </script>

</body>
</html>
